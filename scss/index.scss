// @teamshares/design-system
@import 'without_shoelace'; // NOTE: broken up so public-website can avoid importing shoelace in its entirety

@import '@teamshares/shoelace/dist/themes/light';
@import '@teamshares/shoelace/dist/styles/index';

// Include SharedUI (from tsRailsPath) + application (from APP_ROOT) component styles (enabled by postcss-easy-import's path)
@import 'app/frontend/components/**/*.scss';  // stylelint-disable-line scss/at-import-partial-extension-blacklist

// Override the FOUC solution in Shoelace theme, which causes the (undefined) ts-wrapper to be hidden forever
// TODO: Eventually we may want to actually register that ts-wrapper component, especially if we want it to do something,
// such as give us analytics on ViewComponent usage
ts-wrapper:not(:defined) {
  visibility: visible;
}

// Make the wrapper's children to appear as if they were direct children of the wrapper's parent, ignoring the wrapper itself.
ts-wrapper {
  display: contents;
}

// Rules that have to do with the order of the elements need to be handled with a :has selector
// Note this this only one of such exceptions. The others will need to be added as we find them.
// TODO: Need to look at just pulling all or some classes off the top-level div in wrapped components and applying those classes to the wrapper
// or not using the wrapper element at all, and applying the classes to the top level div of the VC directly

/*
  Nested borders using Tailwind's `last:border-b-0` rule will always be hidden,
  because the children are always the last child of ts-wrapper.
  We need to turn those borders back on, within any ts-wrapper that:
  1. Is not, itself, the last in the parent container
  2. has a child using `last:border-b-0`, which compiles to `.last\:border-b-0:last-child`
*/
ts-wrapper:not(:last-of-type):has(.last\:border-b-0:last-child) {
  .last\:border-b-0:last-child {
    &.border-b {
      border-bottom-width: 1px;
    }

    &.border-b-2 {
      border-bottom-width: 2px;
    }

    &.border-b-4 {
      border-bottom-width: 4px;
    }

    &.border-b-8 {
      border-bottom-width: 8px;
    }
  }
}