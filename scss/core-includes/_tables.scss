.tr        { display: table-row; }
.thead     { display: table-header-group; }
.tbody     { display: table-row-group; }
.tfoot     { display: table-footer-group; }
.col       { display: table-column; }
.colgroup  { display: table-column-group; }
.td, .th   { display: table-cell; }
.caption   { display: table-caption; }

.table {
  display: table; border-collapse: collapse;

  /** TODO: Should be using CSS variables from design system */
  --ts-color-row-bg-odd: #3331;
  --ts-color-row-bg-even: #ccc1;
  --ts-color-header-row-bg: #ccc;
  --ts-table-row-gap: 0.25rem;
  --ts-table-column-gap: 1rem;
  --ts-table-th-padding: var(--spacing-x-small, 0.5rem) 0rem;
  --ts-table-td-padding: 0.75rem 0rem;

  &.alternating-rows {
    .tr:nth-child(odd) {
      background-color: var(--ts-color-row-bg-odd);
    }

    .tr:nth-child(even) {
      background-color: var(--ts-color-row-bg-even);
    }
  }

  .responsive-row-group, .responsive-column-group {
    @apply contents;
  }

  .responsive-label {
    @apply hidden;
  }

  &, .thead, .tbody, .tfoot, .tr {
    @apply w-full;
  }

  .thead .tr {
    @apply sticky;
  }

  .th, .td {
    @apply whitespace-nowrap;
  }

  .th {
    @apply font-semibold;
    padding: var(--ts-table-th-padding);
  }

  .td {
    padding: var(--ts-table-td-padding);
  }
}

/**
  * Table container queries
  *
  * Note that these correspond to the Tailwind container breakpoints,
  * but they use max-width instead of min-width (because we're desktop-first)
  *
  @xs	  @container (max-width: 20rem /* 320px )
  @sm	  @container (max-width: 24rem /* 384px )
  @md	  @container (max-width: 28rem /* 448px )
  @lg	  @container (max-width: 32rem /* 512px )
  @xl	  @container (max-width: 36rem /* 576px )
  @2xl	@container (max-width: 42rem /* 672px )
  @3xl	@container (max-width: 48rem /* 768px )
  @4xl	@container (max-width: 56rem /* 896px )
  @5xl	@container (max-width: 64rem /* 1024px )
**/

/** Make the direct parent of any .table.container-xx element a query-eligible container */
*:has(
    > .table.container-xs,
    > .table.container-sm,
    > .table.container-md,
    > .table.container-lg,
    > .table.container-xl,
    > .table.container-2xl,
    > .table.container-3xl,
    > .table.container-4xl,
    > .table.container-5xl
  ) {
  @apply @container;
}

.table.container-xs,
.table.container-sm,
.table.container-md,
.table.container-lg,
.table.container-xl,
.table.container-2xl,
.table.container-3xl,
.table.container-4xl,
.table.container-5xl {
  /** Common across all container sizes */
  @apply flex-col;

  .responsive-row-group, .responsive-column-group {
    @apply flex flex-wrap;
    column-gap: var(--ts-table-column-gap);
    row-gap: var(--ts-table-row-gap);
  }
}

.table.container-xs {
  @container (max-width: 20rem) {
    &, .tr, .td              { @apply flex; }
    .tr                      { @apply flex-col; }
    .responsive-row-group    { @apply flex-row; }
    .responsive-column-group { @apply flex-col; }
    .responsive-label        { @apply inline; }
    .thead                   { @apply hidden; }
    .tbody                   { @apply contents; }
    .th                      { @apply hidden; }
  }
}

.table.container-sm {
  @container (max-width: 24rem) {
    &, .tr, .td              { @apply flex; }
    .tr                      { @apply flex-col; }
    .responsive-row-group    { @apply flex-row; }
    .responsive-column-group { @apply flex-col; }
    .responsive-label        { @apply inline; }
    .thead                   { @apply hidden; }
    .tbody                   { @apply contents; }
    .th                      { @apply hidden; }
  }
}

.table.container-md {
  @container (max-width: 28rem) {
    &, .tr, .td              { @apply flex; }
    .tr                      { @apply flex-col; }
    .responsive-row-group    { @apply flex-row; }
    .responsive-column-group { @apply flex-col; }
    .responsive-label        { @apply inline; }
    .thead                   { @apply hidden; }
    .tbody                   { @apply contents; }
    .th                      { @apply hidden; }
  }
}

.table.container-lg {
  @container (max-width: 32rem) {
    &, .tr, .td              { @apply flex; }
    .tr                      { @apply flex-col; }
    .responsive-row-group    { @apply flex-row; }
    .responsive-column-group { @apply flex-col; }
    .responsive-label        { @apply inline; }
    .thead                   { @apply hidden; }
    .tbody                   { @apply contents; }
    .th                      { @apply hidden; }
  }
}

.table.container-xl {
  @container (max-width: 36rem) {
    &, .tr, .td              { @apply flex; }
    .tr                      { @apply flex-col; }
    .responsive-row-group    { @apply flex-row; }
    .responsive-column-group { @apply flex-col; }
    .responsive-label        { @apply inline; }
    .thead                   { @apply hidden; }
    .tbody                   { @apply contents; }
    .th                      { @apply hidden; }
  }  }

.table.container-2xl {
  @container (max-width: 42rem) {
    &, .tr, .td              { @apply flex; }
    .tr                      { @apply flex-col; }
    .responsive-row-group    { @apply flex-row; }
    .responsive-column-group { @apply flex-col; }
    .responsive-label        { @apply inline; }
    .thead                   { @apply hidden; }
    .tbody                   { @apply contents; }
    .th                      { @apply hidden; }
  }  }

.table.container-3xl {
  @container (max-width: 48rem) {
    &, .tr, .td              { @apply flex; }
    .tr                      { @apply flex-col; }
    .responsive-row-group    { @apply flex-row; }
    .responsive-column-group { @apply flex-col; }
    .responsive-label        { @apply inline; }
    .thead                   { @apply hidden; }
    .tbody                   { @apply contents; }
    .th                      { @apply hidden; }
  }  }

.table.container-4xl {
  @container (max-width: 56rem) {
    &, .tr, .td              { @apply flex; }
    .tr                      { @apply flex-col; }
    .responsive-row-group    { @apply flex-row; }
    .responsive-column-group { @apply flex-col; }
    .responsive-label        { @apply inline; }
    .thead                   { @apply hidden; }
    .tbody                   { @apply contents; }
    .th                      { @apply hidden; }
  }
}

.table.container-4xl {
  @container (max-width: 64rem) {
    &, .tr, .td              { @apply flex; }
    .tr                      { @apply flex-col; }
    .responsive-row-group    { @apply flex-row; }
    .responsive-column-group { @apply flex-col; }
    .responsive-label        { @apply inline; }
    .thead                   { @apply hidden; }
    .tbody                   { @apply contents; }
    .th                      { @apply hidden; }
  }
}



